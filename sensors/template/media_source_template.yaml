platform: template
sensors:
  media_source:
    value_template: >
      {% if is_state("media_player.denon_avr_x1300w", "off") %}
        Shutdown
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'CastAudio' %}
        Cast Audio
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'TV Audio' %}
        Cast Video
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'PS3' %}
        PS3
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'RecordPlayer' %}
        Record Player
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'NUC' %}
        Steam
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'Switch' %}
        Switch
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'WiiU' %}
        WiiU
      {% else %}
        Shutdown
      {% endif %}
    friendly_name: 'Media Source'
  home_audio_app:
    value_template: '{{ state_attr(states("sensor.media_output"), "app_name") }}'
    friendly_name: 'Home Audio App'
  media_output:
    value_template: >
      {% if is_state("input_select.media_output_select", "Home Audio") %}
        media_player.home_audio
      {% elif is_state("input_select.media_output_select", "Fake Home Audio") %}
        media_player.fake_home_audio
      {% elif is_state("input_select.media_output_select", "Master Suite Audio") %}
        media_player.master_suite_audio
      {% else %}
        media_player.home_audio
      {% endif %}
    friendly_name: 'Media Output'
  media_status:
    value_template: '{{ states(states("sensor.media_output")) }}'
    friendly_name: 'Media Status'