play_all_music:
  alias: Play All Music Playlist
  sequence:
    - service: pyscript.start_playlist
      data:
        entity_id: "{{ states('sensor.media_player_selected_output') }}"
        playlist_uri: !secret all_music_playlist_uri
        volume_level: !secret default_home_audio_volume
play_chill_music:
  alias: Play Chill Music Playlist
  sequence:
    - service: script.turn_on
      target:
        entity_id: script.play_chill_music_var
      data:
        variables:
          volume_level: !secret default_home_audio_volume
          duration: 20
play_chill_music_var:
  alias: Play Chill Music Playlist with Volume Select
  sequence:
    - service: pyscript.start_playlist
      data:
        entity_id: "{{ states('sensor.media_player_selected_output') }}"
        playlist_uri: !secret chill_music_playlist_uri
        volume_level: "{{ volume_level }}"
        duration: "{{ duration }}"
play_daily_mix:
  alias: Play Daily Mix Playlist
  sequence:
    - service: music_assistant.get_library
      data:
        media_type: playlist
        search: "Daily Mix"
        order_by: random
        config_entry_id: !secret music_assistant_config_entry_id
        limit: 1
      response_variable: random_playlist
    - service: pyscript.start_playlist
      data:
        entity_id: '{{ states("sensor.media_player_selected_output") }}'
        playlist_uri: "{{ random_playlist['items'][0]['uri'] }}"
        volume_level: !secret default_home_audio_volume
