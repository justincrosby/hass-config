### Media Starting
- alias: Turn On Living Room TV with WakeOnLan
  trigger:
    - platform: webostv.turn_on
      entity_id: media_player.lg_webos_smart_tv
  action:
    - service: wake_on_lan.send_magic_packet
      data:
        mac: 74:E6:B8:10:4F:1A
- alias: Music Started
  trigger:
    platform: state
    entity_id: binary_sensor.home_audio_playing
    to: 'on'
  action:
    - service: media_player.select_source
      data:
        entity_id: media_player.denon_avr_x1300w
        source: CastAudio
    - service: pyscript.set_default_audio_levels
- alias: Living Room TV Started
  trigger:
    - platform: state
      entity_id: media_player.shield
      from: 'idle'
      to: 'paused'
    - platform: state
      entity_id: media_player.shield
      from: 'idle'
      to: 'playing'
    - platform: state
      entity_id: media_player.shield
      from: 'off'
      to: 'paused'
    - platform: state
      entity_id: media_player.shield
      from: 'off'
      to: 'playing'
    - platform: state
      entity_id: media_player.shield
      from: 'off'
      to: 'idle'
    - platform: state
      entity_id: media_player.shield
      from: 'standby'
      to: 'idle'
    - platform: state
      entity_id: media_player.shield
      from: 'standby'
      to: 'playing'
  action:
      - service: pyscript.switch_to_shield
      - service: media_player.turn_on
        entity_id: media_player.lg_tv
- alias: Bedroom TV Started
  trigger:
    platform: state
    entity_id: media_player.master_bedroom_tv
    to: 'playing'
  action:
    - service: media_player.turn_off
      data:
        entity_id: '{{ states("sensor.media_player_output") }}'
- alias: Bedroom TV Idle
  trigger:
    platform: state
    entity_id: media_player.master_bedroom_tv
    to: 'idle'
    for:
      minutes: 10
  action:
    - service: media_player.turn_off
      entity_id: media_player.master_bedroom_tv
- alias: Media Output Changed
  trigger:
    platform: state
    entity_id: sensor.media_player_output
  action:
    - service: music_assistant.transfer_queue
      data:
        auto_play: true
      target:
        entity_id: '{{ states("sensor.media_player_output") }}'

### Receiver Select ###
- alias: Receiver Input Change Video
  trigger:
    - platform: state
      entity_id: media_player.denon_avr_x1300w
      to: PC
    - platform: state
      entity_id: media_player.denon_avr_x1300w
      to: Shield
    - platform: state
      entity_id: media_player.denon_avr_x1300w
      to: Switch
  action:
    - service: media_player.turn_on
      entity_id: media_player.lg_tv
- alias: Receiver Input Change Audio
  trigger:
    - platform: state
      entity_id: media_player.denon_avr_x1300w
      to: CastAudio
  action:
    - service: media_player.turn_off
      entity_id: media_player.lg_tv