- alias: Bedroom motion detected
  trigger:
    platform: state
    entity_id: binary_sensor.bedroom_sensor_motion_detection
    to: 'on'
  condition:
    condition: and
    conditions:
    - condition: state
      entity_id: input_boolean.bedtime
      state: 'off'
    - condition: time
      after: "10:00:00"
      before: "23:30:00"
  action:
    service: light.turn_on
    entity_id: light.bedroom_lights
- alias: Bedroom motion no longer detected
  trigger:
    platform: state
    entity_id: sensor.bedroom_presence
    to: 'off'
  action:
    service: light.turn_off
    entity_id: light.bedroom_lights
# - alias: Light settings changed
#   trigger:
#     platform: state
#     entity_id: sensor.lights_colour
#   condition:
#     condition: state
#     entity_id: light.master_suite_lights
#     state: 'on'
#   action:
#     service: light.turn_on
#     data_template:
#       entity_id: >-
#         {% if is_state("input_boolean.bedtime", "on") %}
#           light.bathroom_lights
#         {% else %}
#           light.master_suite_lights
#         {% endif %}
#       rgb_color: '{{ states("sensor.lights_colour") }}'
#       brightness: '{{ states("sensor.lights_brightness") }}'
#       transition: 15
- alias: Bedroom lights on
  trigger:
    platform: event
    event_type: zwave_js_value_notification
    event_data:
      node_id: 14
      label: "Scene 001"
      value: "KeyPressed"
  action:
    service: light.turn_on
    entity_id: light.bedroom_lights
- alias: Bedroom lights on full
  trigger:
    platform: event
    event_type: zwave_js_value_notification
    event_data:
      node_id: 14
      label: "Scene 001"
      value: "KeyPressed2x"
  action:
    service: light.turn_on
    data:
      entity_id: light.bedroom_lights
      brightness_pct: 100
- alias: Bedroom lights off
  trigger:
    platform: event
    event_type: zwave_js_value_notification
    event_data:
      node_id: 14
      label: "Scene 002"
      value: "KeyPressed"
  action:
    service: light.turn_off
    entity_id: light.bedroom_lights
- alias: Living room lights on
  trigger:
    platform: event
    event_type: zwave_js_value_notification
    event_data:
      node_id: 13
      label: "Scene 001"
      value: "KeyPressed"
  action:
    service: light.turn_on
    entity_id: light.living_room_lights
- alias: Living room lights off
  trigger:
    platform: event
    event_type: zwave_js_value_notification
    event_data:
      node_id: 13
      label: "Scene 002"
      value: "KeyPressed"
  action:
    service: light.turn_off
    entity_id: light.living_room_lights