- binary_sensor:
  - default_entity_id: binary_sensor.presence_everyone_home
    state: '{{ is_state("binary_sensor.justin_presence", "on") and is_state("binary_sensor.jenni_presence", "on") }}'
    name: 'Is Everyone Home?'
  - default_entity_id: binary_sensor.presence_anyone_home
    state: '{{ is_state("binary_sensor.justin_presence", "on") or is_state("binary_sensor.jenni_presence", "on") }}'
    name: 'Is Anyone Home?'
  - default_entity_id: binary_sensor.presence_should_activate
    state: >
      {% if is_state("binary_sensor.justin_presence", "on") %}
        {{ is_state("binary_sensor.jenni_presence", "off") }}
      {% elif is_state("binary_sensor.jenni_presence", "on") %}
        {{ is_state("binary_sensor.justin_presence", "off") }}
      {% else %}
        true
      {% endif %}
    name: 'Should presence automation activate?'
  - default_entity_id: binary_sensor.justin_presence
    name: Justin Presence
    device_class: presence
    state: '{{ (not is_state("device_tracker.justin_phone", "away") and not is_state("device_tracker.justin_phone", "unknown")) or (not is_state("device_tracker.justin_watch", "away") and not is_state("device_tracker.justin_watch", "unknown")) or is_state("device_tracker.justins_phone_router", "home") }}'
  - default_entity_id: binary_sensor.jenni_presence
    name: Jenni Presence
    device_class: presence
    state: '{{ (not is_state("device_tracker.jenni_phone", "away") and not is_state("device_tracker.jenni_phone", "unknown")) or (not is_state("device_tracker.jenni_watch", "away") and not is_state("device_tracker.jenni_watch", "unknown")) or is_state("device_tracker.jennis_phone_router", "home") }}'
  - default_entity_id: binary_sensor.bedroom_presence
    name: Bedroom Presence
    state: '{{ is_state("device_tracker.justin_phone", "bedroom") or is_state("device_tracker.jenni_phone", "bedroom") or is_state("binary_sensor.bedroom_sensor_motion_detection", "on") }}'
