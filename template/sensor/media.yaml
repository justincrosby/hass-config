- sensor:
  - default_entity_id: sensor.receiver_source
    icon: mdi:audio-video
    state: >-
      {% if is_state("media_player.denon_avr_x1300w", "off") %}
        {% if is_state("sensor.media_player_status", "playing") %}
          Cast Audio
        {% else %}
          Shutdown
        {% endif %}
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'CastAudio' %}
        Cast Audio
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'Shield' %}
        Shield
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'PS3' %}
        PS3
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'RecordPlayer' %}
        Record Player
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'NUC' %}
        Steam
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'Switch' %}
        Switch
      {% elif state_attr("media_player.denon_avr_x1300w", "source") == 'WiiU' %}
        WiiU
      {% else %}
        Shutdown
      {% endif %}
    name: Receiver Source
  - default_entity_id: sensor.receiver_volume
    icon: mdi:audio-video
    state: >
      {% if is_state("media_player.denon_avr_x1300w", "off") %}
        0
      {% else %}
        {{ (state_attr("media_player.denon_avr_x1300w", "volume_level") * 100) | round(1) }}
      {% endif %}
    name: Receiver Volume
  - default_entity_id: sensor.media_player_output
    icon: mdi:music-box
    state: >
      {% if is_state("media_player.home_audio", "playing") %}
        media_player.home_audio
      {% elif is_state("media_player.fake_home_audio", "playing") %}
        media_player.fake_home_audio
      {% elif is_state("media_player.master_suite_audio", "playing") %}
        media_player.master_suite_audio
      {% elif is_state("media_player.living_room_audio", "playing") %}
        media_player.living_room_audio
      {% elif is_state("media_player.master_bedroom_audio", "playing") %}
        media_player.master_bedroom_audio
      {% elif is_state("media_player.master_bathroom_speaker", "playing") %}
        media_player.master_bathroom_speaker
      {% else %}
        none
      {% endif %}
    name: Media Player Output
  - default_entity_id: sensor.media_player_selected_output
    icon: mdi:music-box
    state: >
      {% if is_state("input_select.media_output_select", "Home Audio") %}
        media_player.mass_home
      {% elif is_state("input_select.media_output_select", "Fake Home Audio") %}
        media_player.mass_fake_home
      {% elif is_state("input_select.media_output_select", "Master Suite Audio") %}
        media_player.mass_master_suite
      {% elif is_state("input_select.media_output_select", "Master Bedroom Audio") %}
        media_player.mass_master_bedroom
      {% else %}
        none
      {% endif %}
    name: Media Player Selected Output
  - default_entity_id: sensor.media_player_status
    icon: mdi:music-box
    state: >
      {% if is_state("media_player.shield", "playing") %}
        playing
      {% elif is_state("media_player.home_audio", "playing") %}
        playing
      {% elif is_state("media_player.fake_home_audio", "playing") %}
        playing
      {% elif is_state("media_player.master_suite_audio", "playing") %}
        playing
      {% elif is_state("media_player.living_room_audio", "playing") %}
        playing
      {% elif is_state("media_player.master_bedroom_audio", "playing") %}
        playing
      {% elif is_state("media_player.master_bathroom_speaker", "playing") %}
        playing
      {% else %}
        off
      {% endif %}
    name: Media Player Status
  - default_entity_id: sensor.chromecast_audio_volume
    icon: mdi:music-box
    state: >
      {% if is_state("sensor.media_player_output", "none") %}
        0
      {% elif state_attr(states("sensor.media_player_output"), "volume_level") == None %}
        0
      {% else %}
        {{ (state_attr(states("sensor.media_player_output"), "volume_level") * 100) | round(1) }}
      {% endif %}
    name: Chromecast Audio Volume
  - default_entity_id: sensor.active_media_player
    icon: mdi:music-box
    state: >
      {% if is_state("media_player.shield", "playing") %}
        media_player.shield
      {% elif is_state("media_player.home_audio", "playing") %}
        {% if state_attr("media_player.home_audio", "app_name") == "Music Assistant" %}
          media_player.mass_home
        {% else %}
          media_player.home_audio
        {% endif %}
      {% elif is_state("media_player.fake_home_audio", "playing") %}
        {% if state_attr("media_player.fake_home_audio", "app_name") == "Music Assistant" %}
          media_player.mass_fake_home
        {% else %}
          media_player.fake_home_audio
        {% endif %}
      {% elif is_state("media_player.master_suite_audio", "playing") %}
        {% if state_attr("media_player.master_suite_audio", "app_name") == "Music Assistant" %}
          media_player.mass_master_suite
        {% else %}
          media_player.master_suite_audio
        {% endif %}
      {% elif is_state("media_player.living_room_audio", "playing") %}
        {% if state_attr("media_player.living_room_audio", "app_name") == "Music Assistant" %}
          media_player.mass_living_room
        {% else %}
          media_player.living_room_audio
        {% endif %}
      {% elif is_state("media_player.master_bedroom_audio", "playing") %}
        {% if state_attr("media_player.master_bedroom_audio", "app_name") == "Music Assistant" %}
          media_player.master_bedroom
        {% else %}
          media_player.master_bedroom_audio
        {% endif %}
      {% elif is_state("media_player.master_bathroom_speaker", "playing") %}
        {% if state_attr("media_player.master_bathroom_speaker", "app_name") == "Music Assistant" %}
          media_player.mass_master_bathroom
        {% else %}
          media_player.master_bathroom_speaker
        {% endif %}
      {% else %}
        media_player.home_audio
      {% endif %}
    name: Active Media Player